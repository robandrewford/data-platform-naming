{
  "version": "1.0",
  "metadata": {
    "environment": "dev",
    "project": "dataplatform",
    "region": "us-east-1",
    "team": "data-engineering",
    "cost_center": "IT-1001",
    "data_classification": "internal"
  },
  "scope": {
    "mode": "include",
    "patterns": ["aws_*"]
  },
  "resources": {
    "aws": {
      "s3_buckets": [
        {
          "purpose": "landing",
          "layer": "raw",
          "versioning": false,
          "lifecycle_days": 30
        },
        {
          "purpose": "processing",
          "layer": "processed",
          "versioning": true,
          "lifecycle_days": 60
        }
      ],
      "glue_databases": [
        {
          "domain": "sales",
          "layer": "bronze",
          "description": "Raw sales data ingestion"
        },
        {
          "domain": "sales",
          "layer": "silver",
          "description": "Cleaned sales data"
        }
      ],
      "glue_tables": [
        {
          "database_ref": "sales-bronze",
          "entity": "orders",
          "table_type": "fact",
          "columns": [
            {"name": "order_id", "type": "bigint"},
            {"name": "customer_id", "type": "bigint"},
            {"name": "order_date", "type": "date"},
            {"name": "amount", "type": "decimal(10,2)"}
          ],
          "partition_keys": [
            {"name": "year", "type": "int"},
            {"name": "month", "type": "int"}
          ]
        }
      ]
    },
    "databricks": {
      "clusters": [
        {
          "workload": "etl",
          "cluster_type": "shared",
          "node_type": "i3.xlarge",
          "spark_version": "13.3.x-scala2.12",
          "autoscale": {
            "min": 1,
            "max": 4
          }
        }
      ],
      "jobs": [
        {
          "job_type": "batch",
          "purpose": "daily-sales-load",
          "cluster_ref": "etl",
          "schedule": "daily",
          "tasks": [
            {
              "task_key": "extract",
              "notebook_path": "/etl/sales/extract"
            }
          ]
        }
      ]
    }
  }
}
